<header class="pull-left">
  <h1>Questions</h1>
  <h2>Total questions: <span><%= @questions.count %></span></h2>
</header>

<aside class="pull-right">
  <%= link_to "Add a new question", new_question_path, class: "button" %>
</aside>

<hr class="clearfix">

<table>
  <tr>
    <th>Question No.</th>
    <th>Question</th>
    <th>Type</th>
    <th>Actions</th>
    <th></th>
  </tr>
  <% @questions.each do |question| %>
    <tr>
      <td>
        <%= question.id %>
      </td>
      <td>
        <%= question.text %>
      </td>
      <% if question.type.present? %>
        <td>
          <%= question.type.titleize %>
        </td>
      <% end %>
      <td>
        <%= link_to "Edit question",
                    edit_question_path(question),
                    class: "button",
                    id: "edit-question-#{question.id}" %>
      </td>
      <td>
        <%= form_for question, url: question_archive_path(question),
                     method: "patch" do |question_form| %>
          <%= question_form.submit "Archive",
              id: "archive-question-#{question.id}",
              class: "button-secondary",
              data: { confirm: "Are you sure you want to archive this question?" }
          %>
        <% end %>
      </td>
    </tr>
  <% end %>
</table>

